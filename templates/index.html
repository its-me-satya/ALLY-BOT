<html>

<head>
    <title>Chat-bot</title>
    <link rel="stylesheet" type="text/css" href="/static/style.css">
    <meta charset="UTF-8">
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/static/vendor/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="/static/vendor/bootstrap/css/bootstrap.min.css">


    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css" integrity="sha384-vSIIfh2YWi9wW0r9iZe7RJPrKwp6bG+s9QZMoITbCckVJqGCCRhc+ccxNcdpHuYu" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

</head>
<!--Chatbot-->

<body style="
overflow-x: hidden;">
    <!-- Navbar (sit on top) -->
    <!--navbar-section-->
    <audio control autoplay="autoplay" src='/static/Ally.mp3'></audio>
    <nav class="navbar sticky-top navbar-expand-lg navbar-light bg-light">
        <div class="navbar-brand nav-header">
            <a class="navbar-brand mx-5" href="/"><i class="fas fa-arrow-left mx-1"></i>Back
            </a>
        </div>




    </nav>


    <header>
        <div class="pre">
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 30 30" enable-background="new 0 0 30 30" xml:space="preserve" width="30" height="30">
            
                    <rect fill="#FBBA44" width="15" height="15">
                  <animateTransform attributeName="transform" attributeType="XML" type="translate" dur="1.7s" values="0,0;15,0;15,15;0,15;0,0;" repeatCount="indefinite"/>
                    </rect>	
            
                    <rect x="15" fill="#E84150" width="15" height="15">
                  <animateTransform attributeName="transform" attributeType="XML" type="translate" dur="1.7s" values="0,0;0,15;-15,15;-15,0;0,0;" repeatCount="indefinite"/>
                    </rect>	
                  
                    <rect x="15" y="15" fill="#62B87B" width="15" height="15">
                  <animateTransform attributeName="transform" attributeType="XML" type="translate" dur="1.7s" values="0,0;-15,0;-15,-15;0,-15;0,0;" repeatCount="indefinite"/>
                    </rect>	
            
                    <rect y="15" fill="#2F6FB6" width="15" height="15">
                  <animateTransform attributeName="transform" attributeType="XML" type="translate" dur="1.7s" values="0,0;0,-15;15,-15;15,0;0,0;" repeatCount="indefinite"/>
                    </rect>
                </svg>
        </div>
        <h1 class="text-center">Ally Here!!</h1>
    </header>
    <div class="container text-center">


        <div>
            <div id="chatbox">
                <p class="botText"><span>Hi There! What is your name?</span></p>
            </div>
            <div id="userInput">
                <input id="textInput" class="form-control-lg bdr-2" style="box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;" type="text" name="msg" placeholder="Message">

                <input id="buttonInput" class="btn-lg btn-dark" type="submit" value="Send">
            </div>
        </div>


        <script type="text/javascript">
            function getBotResponse() {
                var rawText = $("#textInput").val();
                var userHtml = '<p class="userText"><span>' + rawText + '</span></p>';
                $("#textInput").val("");
                $("#chatbox").append(userHtml);
                document.getElementById('userInput').scrollIntoView({
                    block: 'start',
                    behavior: 'smooth'
                });
                $.get("/get", {
                    msg: rawText
                }).done(function(data) {
                    var botHtml = '<p class="botText"><span>' + data + '</span></p>';
                    $("#chatbox").append(botHtml);
                    document.getElementById('userInput').scrollIntoView({
                        block: 'start',
                        behavior: 'smooth'
                    });
                });
            }
            $("#textInput").keypress(function(e) {
                if (e.which == 13) {
                    getBotResponse();
                }
            });
            $("#buttonInput").click(function() {
                getBotResponse();
            })
        </script>

    </div>
    <footer class="text-center" style="margin-top: 2rem;">Made With â™¥</footer>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha3/dist/js/bootstrap.min.js" integrity="sha384-t6I8D5dJmMXjCsRLhSzCltuhNZg6P10kE0m0nAncLUjH6GeYLhRU1zfLoW3QNQDF" crossorigin="anonymous"></script>
</body>

</html>